<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    $Id: //Source_Code/BCC/Dise3G/7.3/8/WebService/Schema/xsd/services.xsd#1 $
    $Header: //Source_Code/BCC/Dise3G/7.3/8/WebService/Schema/xsd/services.xsd#1 $
    $DateTime: 2021/03/22 14:14:36 $
    $Author: BuildMaster $
    $File: //Source_Code/BCC/Dise3G/7.3/8/WebService/Schema/xsd/services.xsd $
    $Revision: #1 $
    (c) Copyright 2007 Martin Dawes Systems Ltd
-->

<!-- This schema describes data types used by the Services service. -->

<xs:schema targetNamespace="http://mdsuk.com/ws/dise3g/services/dto/business"
    xmlns:base="http://mdsuk.com/ws/dise3g/base"
    xmlns:subscription="http://mdsuk.com/ws/dise3g/subscription/dto/business"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:target="http://mdsuk.com/ws/dise3g/services/dto/business">

    <xs:import namespace="http://mdsuk.com/ws/dise3g/base" schemaLocation="base.xsd"/>
    <xs:import namespace="http://mdsuk.com/ws/dise3g/subscription/dto/business"
        schemaLocation="subscription.xsd"/>

    <xs:complexType name="ServiceType">
        <xs:all>
			<xs:element name="CustomerLevel" type="target:CustomerLevelType" minOccurs="1"/>
            <xs:element name="CustomerLevelReference" type="target:CustomerLevelReferenceType" minOccurs="1"/>
            <xs:element name="effectiveDate" type="xs:date" minOccurs="1"/>
            <xs:element name="expiryDate" type="xs:date" minOccurs="0"/>
            <xs:element name="serviceCode" type="subscription:ServiceCodeType" minOccurs="1"/>
            <xs:element name="salesPersonId" type="subscription:SalesPersonNumberType" minOccurs="0"/>
            <xs:element name="salesAccountReference" type="subscription:SalesAccountReferenceType" minOccurs="0"/>
            <xs:element name="ServicePrice" type="base:SignedDecimal9_2Type" minOccurs="0"/>
            <xs:element name="Description" type="target:DescriptionType" minOccurs="0"/>
             <xs:element name="LongDescription" type="target:LongDescriptionType" minOccurs="0"/>
            <xs:element name="AccountServiceAgreement" type="target:CustomerLevelReferenceType" minOccurs="0"/>
            <xs:element name="SuppressRemainingCharge" type="xs:boolean" minOccurs="0"/>
            <xs:element name="ContractReference" type="target:ContractReferenceType" minOccurs="0"/>
			<xs:element name="PriceConsolidationService" type="subscription:ServiceCodeType" minOccurs="0"/>
           
        </xs:all>
    </xs:complexType>	
	
    <xs:complexType name="ServiceDetailsType">
        <xs:choice>
            <xs:element name="Service" type="target:ServiceDetailType" maxOccurs="unbounded"/>
        </xs:choice>
    </xs:complexType>

    <xs:complexType name="ActiveAndPendingServiceDetailsType">
        <xs:choice>
            <xs:element name="Service" type="target:ActiveAndPendingServiceDetailType" maxOccurs="unbounded"/>
        </xs:choice>
    </xs:complexType>

	<xs:complexType name="ActiveAndPendingServiceDetailType">
		<xs:complexContent>
			<xs:extension base="target:ServiceDetailType">
		        <xs:sequence>
		            <xs:element name="NetworkConfirmed" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
					<xs:element name="DeletionActionStatus" type="xs:string" minOccurs="0" maxOccurs="1"/>
		        </xs:sequence>
        	</xs:extension>
		</xs:complexContent>
    </xs:complexType>

    <xs:complexType name="ServiceDetailType">
         <xs:sequence>
            <xs:element name="ServiceCode" type="subscription:ServiceCodeType" minOccurs="1"/>
            <xs:element name="PackageCode" type="target:PackageCodeType" minOccurs="0"/>
            <xs:element name="ServicePrice" type="base:SignedDecimal9_2Type" minOccurs="0"/>
            <xs:element name="Description" type="target:DescriptionType" minOccurs="0"/>
            <xs:element name="EffectiveDate" type="xs:date" minOccurs="0"/>
            <xs:element name="ExpiryDate" type="xs:date" minOccurs="0"/>
			<xs:element name="IncdInTermCostCalc" type="xs:boolean" minOccurs="0"/>
			<xs:element name="PriceConsolidationService" type="subscription:ServiceCodeType" minOccurs="0"/>
            <xs:element name="LastAmendedDate" type="base:LastAmendedDateType" minOccurs="0"/>
         </xs:sequence>
    </xs:complexType>

    <xs:complexType name="UpdateServiceBasicType">
        <xs:annotation>
            <xs:documentation>Update the Basic data associated with a
            Service</xs:documentation>
        </xs:annotation>
        <xs:all>
        	<xs:element name="ServicePrice" type="target:ServicePriceType" minOccurs="0"/>
            <xs:element name="ExpiryDate" type="xs:date" minOccurs="0"/>
            <xs:element name="Description" type="xs:string" minOccurs="0"/>
            <xs:element name="LongDescription" type="target:LongDescriptionType" minOccurs="0"/>
            <xs:element name="SuppressRemainingCharge" type="xs:boolean" minOccurs="0"/>
            <xs:element name="ContractReference" type="target:ContractReferenceType" minOccurs="0"/>
            <xs:element name="SalesAccountNumber" type="subscription:SalesPersonNumberType" minOccurs="0"/>
            <xs:element name="LastAmendedDate" type="base:LastAmendedDateType" minOccurs="1"/>
        </xs:all>
    </xs:complexType>

	<xs:complexType name="GenericServiceBasicType">
		<xs:sequence>
			<xs:element name="ServiceCode" type="subscription:ServiceCodeType" minOccurs="1"/>
			<xs:element name="EffectiveDate" type="xs:date" minOccurs="1"/>
			<xs:element name="ExpiryDate" type="xs:date" minOccurs="0"/>
			<xs:element name="ServiceDescription" type="target:DescriptionType" minOccurs="0"/>
			<xs:element name="Price" type="base:SignedDecimal9_2Type" minOccurs="0"/>
			<xs:element name="NominalCode" type="base:ChargetoNominalCodeType" minOccurs="0"/>
			<xs:element name="InvoiceThisService" type="xs:boolean" minOccurs="0"/>
			<xs:element name="LongDescription"  type="target:LongDescriptionType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>

    <xs:simpleType name="PackageCodeType">
        <xs:restriction base="base:StringMaxLength6Type"/>
    </xs:simpleType>

    <xs:simpleType name="ServicePriceType">
        <xs:restriction base="base:SignedDecimal9_2Type"/>
    </xs:simpleType>
    
    <xs:simpleType name="CustomerLevelType">
        <xs:restriction base="xs:string">
		    <xs:enumeration value="ACCOUNT" />
            <xs:enumeration value="SUBSCRIPTION" />
            <xs:enumeration value="AGREEMENT" />
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="CustomerLevelReferenceType">
        <xs:restriction base="base:StringMaxLength8Type" />
    </xs:simpleType>
  
    <xs:simpleType name="ChargetoNominalCodeType">
        <xs:restriction base="xs:string">
			<xs:minLength value="1"></xs:minLength>
			<xs:maxLength value="29"></xs:maxLength>
		</xs:restriction>			
    </xs:simpleType>
    
	<xs:simpleType name="DescriptionType">
        <xs:restriction base="base:StringMaxLength30NotRequiredType"/>
    </xs:simpleType>
    
    <xs:simpleType name="ContractReferenceType">
 		<xs:restriction base="base:StringMaxLength12Type"/>
	</xs:simpleType>
    

	<xs:simpleType name="LongDescriptionType">
        <xs:restriction base="base:StringMaxLength120NotRequiredType"/>
    </xs:simpleType>
    
    <xs:simpleType name="StatusFilterAllEffectiveFutureType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="ALL"/>
			<xs:enumeration value="EFFECTIVE"/>
			<xs:enumeration value="FUTURE"/>
		</xs:restriction>
	</xs:simpleType>

	<xs:complexType name="PackageDefinitionsType">
		<xs:sequence>
		    <xs:element name="PackageDefinition" type="target:PackageDefinitionType" maxOccurs="unbounded" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
	<!-- PackageDefinitionType -->
	<xs:complexType name="PackageDefinitionType">
		<xs:sequence>
			<xs:element name="PackageCode" type="target:PackageCodeType" minOccurs="1"/>
			<xs:element name="PackageClassification" type="target:PackageClassificationType" minOccurs="1"/>
			<xs:element name="PackageDescription" type="target:DescriptionType" minOccurs="1"/>
			<xs:element name="LongDescription" type="target:LongDescriptionType" minOccurs="0"/>
			<xs:element name="ToolTipText" type="base:StringMaxLength300NotRequiredType" minOccurs="0"/>
			<xs:element name="Attributes" type="base:AttributesType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:simpleType name="PackageClassificationType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Base"/>   
			<xs:enumeration value="Bolton"/>
		</xs:restriction>
	</xs:simpleType>

</xs:schema>
