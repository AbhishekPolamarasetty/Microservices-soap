<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    $Id: //Source_Code/BCC/Dise3G/4.5/0/WebService/Schema/xsd/billing.xsd#1 $
    $Header: //Source_Code/BCC/Dise3G/4.5/0/WebService/Schema/xsd/billing.xsd#1 $
    $DateTime: 2008/01/06 10:20:44 $
    $Author: Ken.Mullane $
    $File: //Source_Code/BCC/Dise3G/4.5/0/WebService/Schema/xsd/billing.xsd $
    $Revision: #1 $
    (c) Copyright 2007 Martin Dawes Systems Ltd
-->

<!-- This schema contains data types used to describe Billing -->

<xs:schema targetNamespace="http://mdsuk.com/ws/dise3g/billing/dto/business"
	xmlns:target="http://mdsuk.com/ws/dise3g/billing/dto/business"
	xmlns:base="http://mdsuk.com/ws/dise3g/base"
	xmlns:agreement="http://mdsuk.com/ws/dise3g/agreement/dto/business"
	xmlns:subscription="http://mdsuk.com/ws/dise3g/subscription/dto/business"
	xmlns:address="http://mdsuk.com/ws/dise3g/address/dto/business"
	xmlns:basket="http://mdsuk.com/ws/dise3g/basket/dto/business"
	xmlns:services="http://mdsuk.com/ws/dise3g/services/dto/business"
	xmlns:xs="http://www.w3.org/2001/XMLSchema">

	<xs:import namespace="http://mdsuk.com/ws/dise3g/base" schemaLocation="base.xsd"></xs:import>
	<xs:import namespace="http://mdsuk.com/ws/dise3g/agreement/dto/business" schemaLocation="agreement.xsd"></xs:import>
	<xs:import namespace="http://mdsuk.com/ws/dise3g/subscription/dto/business" schemaLocation="subscription.xsd"></xs:import>
	<xs:import namespace="http://mdsuk.com/ws/dise3g/address/dto/business" schemaLocation="address.xsd"></xs:import>
	<xs:import namespace="http://mdsuk.com/ws/dise3g/basket/dto/business" schemaLocation="basket.xsd"></xs:import>
	<xs:import namespace="http://mdsuk.com/ws/dise3g/services/dto/business" schemaLocation="services.xsd"></xs:import>

	<xs:complexType name="CUGNumbersType">
        <xs:sequence>
            <xs:element name="CUGNumbers" type="target:CUGNumberType" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

	<xs:complexType name="CUGNumberType">
		<xs:sequence>
			<xs:element name="ClosedUserGroupNumber" type="target:ClosedUserGroupNumberType" minOccurs="1"/>
			<xs:element name="NetworkSerialNumber" type="target:NetworkSerialNumberType" minOccurs="0"/>
			<xs:element name="CUGNumberType" type="target:CUGNumberTypeType" minOccurs="1"/>
			<xs:element name="EffectiveDate" type="xs:dateTime" minOccurs="0"/>
			<xs:element name="ExpiryDate" type="xs:dateTime" minOccurs="0"/>
			<xs:element name="CUGNumberDescription" type="target:CUGNumberDescriptionType" minOccurs="0"/>
			<xs:element name="SubscriptionNumber" type="base:SubscriptionNumberType" minOccurs="1"/>
			<xs:element name="CUGProvisioningStatus" type="target:CUGProvisioningStatusType" minOccurs="1"/>
			<xs:element name="CUGAllowDeletion" type="xs:boolean" minOccurs="1"/>
           	<xs:element name="LastAmendedDate" type="base:LastAmendedDateType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
		
	<xs:simpleType name="CUGProvisioningStatusType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="BLANK" />
			<xs:enumeration value="Awaiting Provisioning" />
			<xs:enumeration value="Provisioning Requested" />
			<xs:enumeration value="Confirmed" />
		</xs:restriction>
	</xs:simpleType>
		
	<xs:complexType name="BundleTargetIdentifierType">
		<xs:choice>
			<xs:element name="SubscriptionNumber" type="base:SubscriptionNumberType"></xs:element>
			<xs:element name="AgreementNumber" type="base:AgreementNumberType"></xs:element>
		</xs:choice>
	</xs:complexType>
	
	<xs:complexType name="CurrentUsageType">
		<xs:sequence>
			<xs:element name="BundleCode" type="target:BundleCodeType"></xs:element>
			<xs:element name="UnitType" type="target:UnitOfMeasureType"></xs:element>
			<xs:element name="AvailableUnits" type="base:Decimal14Type"></xs:element>
			<xs:element name="UsedUnits" type="base:Decimal14Type"></xs:element>
			<xs:element name="UnitOfMeasure" type="base:StringMaxLength8NotRequiredType" nillable="true"/>
			<xs:element name="LastAmendedDate" type="base:LastAmendedDateType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="BundleLinkedSubscriptionsType">
        <xs:sequence>
            <xs:element name="LinkedSubscription" type="target:BundleLinkedSubscriptionType" minOccurs="1" maxOccurs="unbounded"/>
			<xs:element name="QueryLimitExceeded" type="base:QueryLimitExceededType"/>
        </xs:sequence>
    </xs:complexType>
	
	<xs:complexType name="BundleLinkedSubscriptionType">
		<xs:sequence>
			<xs:element name="SubscriptionNumber" type="base:SubscriptionNumberType"></xs:element>
			<xs:element name="EffectiveDate" type="xs:dateTime"></xs:element>
			<xs:element name="ExpiryDate" type="xs:dateTime"></xs:element>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="BundleUnlinkedSubscriptionsType">
        <xs:sequence>
            <xs:element name="UnlinkedSubscription" type="target:BundleUnlinkedSubscriptionType" minOccurs="1" maxOccurs="unbounded"/>
			<xs:element name="QueryLimitExceeded" type="base:QueryLimitExceededType"/>
        </xs:sequence>
    </xs:complexType>
	
	<xs:complexType name="BundleUnlinkedSubscriptionType">
		<xs:sequence>
			<xs:element name="SubscriptionNumber" type="base:SubscriptionNumberType"></xs:element>
		</xs:sequence>
	</xs:complexType>
	
	<!--
		List of fields based on the dise UnbilledUnitsPanel.
		Network is not there. It is however displayed by e-suite self care.
		Call status is also included          
		bundled value = call.eeawva - call.eeizva 
		bundled value = [SP Retail Call Price] - [Pre-Bundle SP Value]           
	-->
	<xs:complexType name="UnbilledUnitType">
		<xs:sequence>
			<xs:element name="CallDate" type="target:CallDateType"/>
			<xs:element name="CallTime" type="target:CallTimeType"/>
			<xs:element name="CallStatus" type="target:CallStatusType"/>
			<xs:element name="DialledNumber" type="target:DialledNumberType"/>
			<xs:element name="UnitOfMeasure" type="base:StringMaxLength8NotRequiredType"/>
			<xs:element name="UnitsUsed" type="target:UnitsType" />
			<xs:element name="CallClassification" type="target:CallClassificationType" />
			<xs:element name="BundleCallStatus" type="target:BundledCallStatusType" />
			<xs:element name="PreBundlePrice" type="target:PreBundleSPValueType" />
			<xs:element name="BundleValue" type="target:BundleAdjustmentValueType" minOccurs="0"/>
			<xs:element name="DiscountValue" type="target:DiscountType" minOccurs="0"/>
			<xs:element name="CallPrice" type="target:ValueType"/>
			<xs:element name="BillingType" type="target:BillingTypeType"/>
			<xs:element name="Network" type="target:NetworkNameType"/>
			<xs:element name="CallDuration" type="base:SevenDigitNumberType"/>
			<xs:element name="CallPricingBreakdown" type="target:CallPricingBreakdownType" minOccurs="0"/>
			<xs:element name="LastAmendedDate" type="base:LastAmendedDateType" minOccurs="0"/>

		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="UnbilledUnitSummaryType">
		<xs:sequence>
			<xs:element name="TotalPreBundleValue" type="target:PreBundleValueType" minOccurs="0"/>
			<xs:element name="TotalBundleValue" type="target:BundleValueType" minOccurs="0"/>
			<xs:element name="TotalPostBundleValue" type="target:PostBundleValueType" minOccurs="0"/>
			<xs:element name="TotalDiscountValue" type="target:DiscountType" minOccurs="0"/>
			<xs:element name="TotalUnbilledValue" type="target:UnbilledValueType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="PrePayUsageSummaryType">
		<xs:sequence>
			<xs:element name="TotalPrePayValue" type="target:PrePayValueType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="UnbilledUnitsType">
		<xs:sequence>
			<xs:element name="UnbilledUnit" type="target:UnbilledUnitType" maxOccurs="unbounded" minOccurs="0"/>
			<xs:element name="QueryLimitExceeded" type="target:QueryLimitExceededType"/>            
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="QueryUnbilledUnitsTargetType">
		<xs:choice>
			<xs:element name="SubscriptionIdentifier" type="base:SubscriptionNumberType"/>
			<xs:element name="PrimarySerialNumber" type="base:NetworkSerialNumberType"/>
		</xs:choice>
	</xs:complexType>
	
	<xs:complexType name="QueryBundleDatasetsType">
		<xs:sequence>
			<xs:element name="Dataset" type="target:QueryBundleDatasetType" maxOccurs="unbounded"></xs:element>
		</xs:sequence>
	</xs:complexType>
	
	<xs:simpleType name="QueryBundleDatasetType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="CURRENTUSAGE"></xs:enumeration>
			<xs:enumeration value="LINKEDSUBSCRIPTIONS"></xs:enumeration>
			<xs:enumeration value="UNLINKEDSUBSCRIPTIONS"></xs:enumeration>
		</xs:restriction>
	</xs:simpleType>
	
	
	<xs:simpleType name="QueryUnbilledUnitsDatasetType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="BASIC"/>
			<xs:enumeration value="SUMMARY"/>
			<xs:enumeration value="BOTH"/>
		</xs:restriction>
	</xs:simpleType>    
	
	<xs:complexType name="UnbilledUnitsDatasetsType">
		<xs:sequence>
			<xs:element name="Dataset" type="target:QueryUnbilledUnitsDatasetType" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="ClosedUserGroupsType">
		<xs:sequence>
			<xs:element name="ClosedUserGroup" type="target:CUGInfoType" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="CUGInfoType">
		<xs:sequence>
			<xs:element name="ClosedUserGroupNumber" type="target:ClosedUserGroupNumberType" minOccurs="1"/>
			<xs:element name="CUGType" type="target:CUGTypeType" minOccurs="1"/>
			<xs:element name="ServiceCode" type="subscription:ServiceCodeType" minOccurs="1"/>
			<xs:element name="LastAmendedDate" type="base:LastAmendedDateType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
		
	<xs:complexType name="CUGNumbersInfoType">
		<xs:sequence>
			<xs:element name="CUGNumber" type="target:CUGNumberInfoType" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="CUGNumberInfoType">
		<xs:sequence>
			<xs:element name="NetworkSerialNumber" type="target:NetworkSerialNumberType" minOccurs="0"/>
			<xs:element name="EffectiveDate" type="xs:dateTime" minOccurs="0"/>
			<xs:element name="ExpiryDate" type="xs:dateTime" minOccurs="0"/>
			<xs:element name="SubscriptionNumber" type="base:SubscriptionNumberType" minOccurs="1"/>
			<xs:element name="CUGProvisioningStatus" type="target:CUGProvisioningStatusType" minOccurs="1"/>
			<xs:element name="CUGAllowDeletion" type="xs:boolean" minOccurs="1"/>
           	<xs:element name="LastAmendedDate" type="base:LastAmendedDateType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
		
	<xs:simpleType name="ClosedUserGroupNumberType">
		<xs:restriction base="base:EightDigitNumberType"></xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="NetworkSerialNumberType">
		<xs:restriction base="base:StringMaxLength25NotRequiredType"></xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="CUGPriorityNumberType">
		<xs:restriction base="base:Decimal5Type"></xs:restriction>
	</xs:simpleType>
	
	<xs:simpleType name="CUGNumberDescriptionType">
		<xs:restriction base="base:StringMaxLength40NotRequiredType"></xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="CUGNumbersFilterType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="DEFAULT" />
			<xs:enumeration value="SHARED" />
			<xs:enumeration value="PRIVATE" />
		</xs:restriction>
	</xs:simpleType>
	
	<xs:simpleType name="CUGActiveFilterType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="ACTIVE" />
			<xs:enumeration value="ALL" />
		</xs:restriction>
	</xs:simpleType>
	
	<xs:simpleType name="CUGTypeType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Main" />
			<xs:enumeration value="Private" />
		</xs:restriction>
	</xs:simpleType>
	
	<xs:simpleType name="CUGNumberTypeType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="DEFAULT" />
			<xs:enumeration value="SHARED" />
			<xs:enumeration value="PRIVATE" />
		</xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="CustomerLevelType">
        <xs:restriction base="xs:string">
            <xs:enumeration value="ACCOUNT"/>
            <xs:enumeration value="CORPORATE"/>
            <xs:enumeration value="GROUP"/>
        </xs:restriction>
    </xs:simpleType>
	
	<xs:simpleType name="CustomerCodeType">
		<xs:restriction base="base:StringMaxLength8Type"></xs:restriction>
	</xs:simpleType>
	
	<xs:simpleType name="BundleCodeType">
		<xs:restriction base="base:StringMaxLength6Type"></xs:restriction>
	</xs:simpleType>	
	  
	<xs:simpleType name="CallDateType">
		<xs:restriction base="xs:dateTime"/>
	</xs:simpleType>
	
	<xs:simpleType name="CallTimeType">
		<xs:restriction base="xs:time"/>
	</xs:simpleType>    
	
	<!-- Response includes descriptive status text - not the internally stored numeric value -->
	<xs:simpleType name="CallStatusType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Written Off"/>
			<xs:enumeration value="Awaiting Manual Invoice"/>
			<xs:enumeration value="Awaiting Invoice"/>
			<xs:enumeration value="Manually Invoiced"/>
			<xs:enumeration value="Invoiced"/>
			<xs:enumeration value="Unallocated to Subscription"/>
			<xs:enumeration value="Manually Allocated"/>
			<xs:enumeration value="Exceeds Maximum Network Price"/>         
		</xs:restriction>
	</xs:simpleType>
	
	<!-- 
		Database keeps 18 characters for a dialled number, PhoneNumberType has only 15.
		But DialledNumber in response does not need to be a number,
		it may be a string: "Info Service", "Divert to Recall", "Recall Delivery"
		"Register CFNRy","Erase CFNRy", etc  
	-->
	<xs:simpleType name="DialledNumberType">
		<xs:restriction base="base:StringMaxLength18Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="UnitOfMeasureType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="VALUE"/>
			<xs:enumeration value="VOLUME"/>
			<xs:enumeration value="DURATION"/>
		</xs:restriction>
	</xs:simpleType>
	
	<xs:simpleType name="UnitsType">
		<xs:restriction base="base:NineDigitNumberType"/>
	</xs:simpleType> 
	
	<xs:simpleType name="CallClassificationType">
		<xs:restriction base="base:StringMaxLength12Type"/>
	</xs:simpleType> 
	
	<!-- Response includes descriptive status text - not the internally stored alphanumeric value -->
	<xs:simpleType name="BundledCallStatusType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Dropped"/>   
			<xs:enumeration value="No"/>
			<xs:enumeration value="Part Bundled"/>            
			<xs:enumeration value="Part Dropped"/>         
			<xs:enumeration value="Part Rolled"/>         
			<xs:enumeration value="Rolled"/>
			<xs:enumeration value="Yes"/>
		</xs:restriction>
	</xs:simpleType>    
	
	<xs:simpleType name="PreBundleSPValueType">
		<xs:restriction base="target:Price6_4Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="BundleAdjustmentValueType">
		<xs:restriction base="target:Price6_4Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="DiscountType">
		<xs:restriction base="target:Price6_4Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="ValueType">
		<xs:restriction base="target:Price6_4Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="PreBundleValueType">
		<xs:restriction base="target:Price6_4Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="BundleValueType">
		<xs:restriction base="target:Price6_4Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="PostBundleValueType">
		<xs:restriction base="target:Price6_4Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="UnbilledValueType">
		<xs:restriction base="target:Price6_4Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="PrePayValueType">
		<xs:restriction base="target:Price6_4Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="BillingTypeType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="POSTPAY"/>
			<xs:enumeration value="PREPAY"/>
			<xs:enumeration value="COMBINATION"/>
		</xs:restriction>
	</xs:simpleType>
	
	<xs:simpleType name="NetworkNameType">
		<xs:restriction base="base:StringMaxLength30Type"/>
	</xs:simpleType>
	
	<xs:simpleType name="AddressNumberType">
		<xs:restriction base="address:AddressCodeType"/>
	</xs:simpleType>    
	
	<xs:simpleType name="PrimaryEmailAddressType">
		<xs:restriction base="address:EmailAddressType"/>
	</xs:simpleType>    
	
	<xs:simpleType name="QueryLimitExceededType">
		<xs:restriction base="xs:boolean"/>
	</xs:simpleType>    	
	
	<xs:simpleType name="MaxCUGNumbersType">
		<xs:restriction base="base:SevenDigitNumberType"/>
	</xs:simpleType>
    
	<xs:complexType name="QueryBillableAssetDatasets">
        <xs:sequence>
            <xs:element name="Dataset" type="target:QueryBillableAssetDatasetType" maxOccurs="unbounded"
            />
        </xs:sequence>
    </xs:complexType>

	<xs:simpleType name="QueryBillableAssetDatasetType">
        <xs:restriction base="xs:string">
            <xs:enumeration value="LINES"/>
        </xs:restriction>
    </xs:simpleType>
	
	<!-- should be made part of base -->
	<xs:simpleType name="Price6_4Type">
		<xs:restriction base="xs:decimal">
			<xs:minInclusive value="-999999.9999"/>
			<xs:maxInclusive value="999999.9999"/>
			<xs:fractionDigits value="4"/>
		</xs:restriction>
	</xs:simpleType>
	
	
	<xs:complexType name="AttributeGroupType">
		<xs:sequence>
		    <xs:element name="AttributeGroupId" type="target:AttributeGroupIdType" minOccurs="1"/>
			<xs:element name="Attribute" type="target:AttributeType" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:simpleType name="AttributeGroupIdType">
        <xs:restriction base="base:StringMaxLength6Type"/>
    </xs:simpleType>
	
	<xs:complexType name="AttributeType">
		<xs:sequence>
		    <xs:element name="AttributeId" type="target:AttributeIdType" minOccurs="1"/>
			<xs:element name="AttributeValue" type="target:AttributeValueType" minOccurs="0" maxOccurs="1"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:simpleType name="AttributeIdType">
        <xs:restriction base="base:Decimal2Type"/>
	</xs:simpleType>

	<xs:simpleType name="AttributeValueType">
        <xs:restriction base="base:StringMaxLength120NotRequiredType"/>
    </xs:simpleType>
	
	<xs:complexType name="QueryAttributeGroupType">
		<xs:sequence>
		    <xs:element name="AttributeGroupId" type="target:AttributeGroupIdType" minOccurs="1"/>
			<xs:element name="Attribute" type="target:QueryAttributeType" minOccurs="0" maxOccurs="unbounded"/>
		    <xs:element name="EffectiveDate" type="xs:dateTime" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="QueryAttributeType">
		<xs:sequence>
		    <xs:element name="AttributeId" type="target:AttributeIdType" minOccurs="1"/>
			<xs:element name="AttributeValue" type="target:AttributeValueType" minOccurs="0" maxOccurs="1"/>
			<xs:element name="EffectiveDate" type="xs:dateTime" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>

	<xs:simpleType name="BillableAssetCode">
		<xs:restriction base="base:StringMaxLength6Type"></xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="BillableAssetDescription">
		<xs:restriction base="base:StringMaxLength6Type"></xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="BillableAssetLineIdentifierType">
		<xs:restriction base="base:FifteenDigitNumber_NonZeroType"></xs:restriction>
	</xs:simpleType>
	
	<xs:complexType name="CreateCUGNumbersListType">
		<xs:sequence>
			<xs:element name="CUGNumber" type="target:NetworkSerialNumberType" minOccurs="1"/>
			<xs:element name="CUGNumberDescription" type="target:CUGNumberDescriptionType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>	
	<xs:complexType name="UsageAttributeType">
		<xs:sequence>
			<xs:element name="Description" type="base:StringMaxLength30Type"/>
			<xs:element name="Value" type="base:StringMaxLength100Type"/>
		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="UsageAttributesType">
		<xs:sequence>
			<xs:element name="UsageAttribute" type="target:UsageAttributeType" maxOccurs="unbounded" minOccurs="0"/>         
		</xs:sequence>
	</xs:complexType>

	<!--
		List of fields for Query recent usage.          
	-->
	<xs:complexType name="PostPayUnitType">
		<xs:sequence>
			<xs:element name="UsageDateTime" type="target:UsageDateTimeType"/>
			<xs:element name="UsageStatus" type="target:UsageStatusType"/>
			<xs:element name="DialledNumber" type="target:DialledNumberType"/>
			<xs:element name="UnitOfMeasure" type="base:StringMaxLength8NotRequiredType"/>
			<xs:element name="UnitsUsed" type="target:UnitsType" />
			<xs:element name="UsageClassification" type="target:UsageClassificationType" />
			<xs:element name="BundleUsageStatus" type="target:BundledUsageStatusType" />
			<xs:element name="PreBundlePrice" type="target:PreBundleSPValueType" />
			<xs:element name="BundleValue" type="target:BundleAdjustmentValueType" minOccurs="0"/>
			<xs:element name="DiscountValue" type="target:DiscountType" minOccurs="0"/>
			<xs:element name="UsagePrice" type="target:ValueType"/>
			<xs:element name="BillingType" type="target:BillingTypeType"/>
			<xs:element name="Network" type="target:NetworkNameType"/>
			<xs:element name="UsageDuration" type="base:SevenDigitNumberType"/>
			<xs:element name="CallPricingBreakdown" type="target:CallPricingBreakdownType" minOccurs="0"/>
			<xs:element name="LastAmendedDate" type="base:LastAmendedDateType" minOccurs="0"/>
			<xs:element name="Baskets" type="target:BasketsType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="PrePayUnitType">
		<xs:sequence>
			<xs:element name="UsageDateTime" type="target:UsageDateTimeType" minOccurs="0"/>
			<xs:element name="DialledNumber" type="target:DialledNumberType"/>
			<xs:element name="UnitOfMeasure" type="base:StringMaxLength8NotRequiredType"/>
			<xs:element name="UnitsUsed" type="target:UnitsType" />
			<xs:element name="UsageClassification" type="target:UsageClassificationType" />
			<xs:element name="UsagePrice" type="target:ValueType"/>
			<xs:element name="BillingType" type="target:BillingTypeType"/>
			<xs:element name="Network" type="target:NetworkNameType"/>
			<xs:element name="UsageDuration" type="base:SevenDigitNumberType"/>
			<xs:element name="CallPricingBreakdown" type="target:CallPricingBreakdownType" minOccurs="0"/>
			<xs:element name="LastAmendedDate" type="base:LastAmendedDateType" minOccurs="0"/>
			<xs:element name="Baskets" type="target:BasketsType"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="PrePayUnitsType">
		<xs:sequence>
			<xs:element name="PrePayUnit" type="target:PrePayUnitType" maxOccurs="unbounded" minOccurs="0"/>
			<xs:element name="QueryLimitExceeded" type="target:QueryLimitExceededType"/>            
		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="PostPayUnitsType">
		<xs:sequence>
			<xs:element name="PostPayUnit" type="target:PostPayUnitType" maxOccurs="unbounded" minOccurs="0"/>
			<xs:element name="QueryLimitExceeded" type="target:QueryLimitExceededType"/>            
		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="BasketsType">
		<xs:sequence>
			<xs:element name="Basket" type="target:BasketType" maxOccurs="unbounded" minOccurs="0"/>         
		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="BasketType">
		<xs:sequence>
			<xs:element name="BasketCode" type="base:ServiceCodeType"/>
			<xs:element name="Consumption" type="base:Currency9_2NotRequiredType"/>
			<xs:element name="PreEventBalance" type="base:Currency9_2NotRequiredType"/>       
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="QueryRecentUsageTargetType">
		<xs:choice>
			<xs:element name="SubscriptionIdentifier" type="base:SubscriptionNumberType"/>
			<xs:element name="PrimarySerialNumber" type="base:NetworkSerialNumberType"/>
		</xs:choice>
	</xs:complexType>

	<xs:simpleType name="QueryRecentUsageDatasetType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="PREPAY"/>
			<xs:enumeration value="POSTPAID"/>
			<xs:enumeration value="ALL"/>
			<xs:enumeration value="SUMMARY"/>
		</xs:restriction>
	</xs:simpleType>    
	
	<xs:complexType name="RecentUsageDatasetsType">
		<xs:sequence>
			<xs:element name="Dataset" type="target:QueryRecentUsageDatasetType" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>

	<xs:simpleType name="UsageDateTimeType">
		<xs:restriction base="xs:dateTime"/>
	</xs:simpleType>
	
	<!-- Response includes descriptive status text - not the internally stored numeric value -->
	<xs:simpleType name="UsageStatusType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Written Off"/>
			<xs:enumeration value="Awaiting Manual Invoice"/>
			<xs:enumeration value="Awaiting Invoice"/>
			<xs:enumeration value="Manually Invoiced"/>
			<xs:enumeration value="Invoiced"/>
			<xs:enumeration value="Unallocated to Subscription"/>
			<xs:enumeration value="Manually Allocated"/>
			<xs:enumeration value="Exceeds Maximum Network Price"/>         
		</xs:restriction>
	</xs:simpleType>

		<xs:simpleType name="UsageClassificationType">
		<xs:restriction base="base:StringMaxLength30Type"/>
	</xs:simpleType>

	<!-- Response includes descriptive status text - not the internally stored alphanumeric value -->
	<xs:simpleType name="BundledUsageStatusType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Dropped"/>   
			<xs:enumeration value="No"/>
			<xs:enumeration value="Part Bundled"/>            
			<xs:enumeration value="Part Dropped"/>         
			<xs:enumeration value="Part Rolled"/>         
			<xs:enumeration value="Rolled"/>
			<xs:enumeration value="Yes"/>
		</xs:restriction>
	</xs:simpleType>

	
	<xs:complexType name="SubscriptionBundlesDatasetsType">
		<xs:sequence>
			<xs:element name="Dataset" type="target:QuerySubscriptionBundlesDatasetType" maxOccurs="unbounded" minOccurs="1"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:simpleType name="QuerySubscriptionBundlesDatasetType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="CURRENTBUNDLES"/>
			<xs:enumeration value="DEFINITIONS"/>
		</xs:restriction>
	</xs:simpleType>    
	
	<xs:complexType name="CurrentSubscriptionBundlesType">
		<xs:sequence>
		    <xs:element name="CurrentSubscriptionBundle" type="target:CurrentSubscriptionBundleType" maxOccurs="unbounded" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
    <xs:complexType name="CurrentSubscriptionBundleType">
		<xs:sequence>
			<xs:element name="BundleCode" type="target:BundleCodeType" minOccurs="1"/>
			<xs:element name="SubscriptionNumber" type="base:SubscriptionNumberType" minOccurs="1"/>
			<xs:element name="PackageCode" type="services:PackageCodeType" minOccurs="0"/>
			<xs:element name="EffectiveDate" type="xs:date" minOccurs="1"/>
			<xs:element name="ExpiryDate" type="xs:date" minOccurs="0"/>
			<xs:element name="AvailableUnits" type="base:TenDigitNumberType" minOccurs="1"/>
			<xs:element name="UnitsUsed" type="base:TenDigitNumberType" minOccurs="1"/>
			<xs:element name="ProRatedPrice" type="xs:boolean" minOccurs="1"/>
			<xs:element name="ProRatedAllocation" type="xs:boolean" minOccurs="1"/>
			<xs:element name="LastAmendedDate" type="base:LastAmendedDateType" minOccurs="1"/>
		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="BundleDefinitionsType">
		<xs:sequence>
		    <xs:element name="BundleDefinition" type="target:BundleDefinitionType" maxOccurs="unbounded" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
	<!-- BundleDefinitionType -->
	<xs:complexType name="BundleDefinitionType">
		<xs:sequence>
			<xs:element name="BundleCode" type="target:BundleCodeType" minOccurs="1"/>
			<xs:element name="BundleDescription" type="base:StringMaxLength30Type" minOccurs="1"/>
			<xs:element name="LongDescription" type="base:StringMaxLength120NotRequiredType" minOccurs="0"/>
			<xs:element name="ToolTipText" type="base:StringMaxLength300NotRequiredType" minOccurs="0"/>
			<xs:element name="ApplyBundleServiceCode" type="base:ServiceCodeType" minOccurs="0"/>
		    <xs:element name="BundleType" type="target:BundleTypeType" minOccurs="1"/>
			<xs:element name="BundleLevel" type="target:BundleLevelType" minOccurs="1"/>
			<xs:element name="CurrentAllocationFirst" type="xs:boolean" minOccurs="1"/>
			<xs:element name="Rollover" type="xs:boolean" minOccurs="1"/>
			<xs:element name="Attributes" type="base:AttributesType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
	<!-- Response includes descriptive status text - not the internally stored alphanumeric value -->
	<xs:simpleType name="BundleLevelType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Subscription"/>   
			<xs:enumeration value="Agreement"/>
		</xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="BundleTypeType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Value"/>
			<xs:enumeration value="Volume"/>
			<xs:enumeration value="Billable Duration"/>
			<xs:enumeration value="Actual Duration"/>
		</xs:restriction>
	</xs:simpleType>
	
	<xs:complexType name="DefinitionsType">
		<xs:sequence>
		    <xs:element name="BundleDefinitions" type="target:BundleDefinitionsType" minOccurs="0"/>
			<xs:element name="PackageDefinitions" type="services:PackageDefinitionsType" minOccurs="0"/>
		</xs:sequence>
	</xs:complexType>
	
	<!-- CallPricingBreakdownType -->
	<xs:complexType name="CallPricingBreakdownType">
		<xs:sequence>
			<xs:element name="AccessChargeDetails" type="target:AccessChargeDetailsType" minOccurs="1"/>
			<xs:element name="ServiceChargeDetails" type="target:ServiceChargeDetailsType" minOccurs="1"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="AccessChargeDetailsType">
		<xs:sequence>
			<xs:element name="WholesaleAccessCharge" type="target:ValueType" minOccurs="1"/>
			<xs:element name="PreBundleAccessCharge" type="target:ValueType" minOccurs="1"/>
			<xs:element name="AccessCharge" type="target:ValueType" minOccurs="1"/>
			<xs:element name="AccessChargeDiscountValue" type="target:ValueType" minOccurs="1"/>
			<xs:element name="AccessChargeCallClassification" type="target:CallClassificationType" minOccurs="0"/>
			<xs:element name="PreBundleAccessDuration" type="base:SevenDigitNumberType" minOccurs="1"/>
			<xs:element name="AccessDuration" type="base:SevenDigitNumberType" minOccurs="1"/>
			<xs:element name="PreBundleAccessBillableDuration" type="base:SevenDigitNumberType" minOccurs="1"/>
			<xs:element name="AccessBillableDuration" type="base:SevenDigitNumberType" minOccurs="1"/>
			<xs:element name="PreBundleAccessUnits" type="base:NineDigitNumberType" minOccurs="1"/>
			<xs:element name="AccessUnits" type="base:NineDigitNumberType" minOccurs="1"/>
			<xs:element name="BundleAppliedOn" type="target:BundleAppliedOnType" minOccurs="1"/>
		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="ServiceChargeDetailsType">
		<xs:sequence>
			<xs:element name="WholesaleServiceCharge" type="target:ValueType" minOccurs="1"/>
			<xs:element name="PreBundleServiceCharge" type="target:ValueType" minOccurs="1"/>
			<xs:element name="ServiceCharge" type="target:ValueType" minOccurs="1"/>
			<xs:element name="ServiceChargeDiscountValue" type="target:ValueType" minOccurs="1"/>
			<xs:element name="ServiceChargeCallClassification" type="target:CallClassificationType" minOccurs="0"/>
			<xs:element name="PreBundleServiceDuration" type="base:SevenDigitNumberType" minOccurs="1"/>
			<xs:element name="ServiceDuration" type="base:SevenDigitNumberType" minOccurs="1"/>
			<xs:element name="PreBundleServiceBillableDuration" type="base:SevenDigitNumberType" minOccurs="1"/>
			<xs:element name="ServiceBillableDuration" type="base:SevenDigitNumberType" minOccurs="1"/>
			<xs:element name="PreBundleServiceUnits" type="base:NineDigitNumberType" minOccurs="1"/>
			<xs:element name="ServiceUnits" type="base:NineDigitNumberType" minOccurs="1"/>
		</xs:sequence>
	</xs:complexType>

	
	<xs:complexType name="FilterType">
		<xs:sequence>
			<xs:element name="WholesaleServiceCharge" type="target:ValueType" minOccurs="1"/>
			<xs:element name="PreBundleServiceCharge" type="target:ValueType" minOccurs="1"/>
			<xs:element name="ServiceCharge" type="target:ValueType" minOccurs="1"/>
			<xs:element name="ServiceChargeDiscountValue" type="target:ValueType" minOccurs="1"/>
			<xs:element name="ServiceChargeCallClassification" type="target:CallClassificationType" minOccurs="1"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="RecentUsageFilterType">
		<xs:choice>			
			<xs:element name="Date" type="target:RecentUsageDateFilterType"/>
			<!-- there may be additional filters added in future -->			
		</xs:choice>
	</xs:complexType>
	
	<xs:complexType name="RecentUsageDateFilterType">
		<xs:choice>
			<xs:element name="FromDate" type="xs:date"/>
			<xs:element name="ToDate" type="xs:date"/>
		</xs:choice>
	</xs:complexType>

    <xs:simpleType name="BundleAppliedOnType">
        <xs:restriction base="xs:string">
			<xs:enumeration value="BLANK" />
            <xs:enumeration value="Access Charge"/>
            <xs:enumeration value="Service Charge"/>
            <xs:enumeration value="Full Price"/>
        </xs:restriction>        
    </xs:simpleType>


	<xs:complexType name="ResourceTemplateResponseType">
		<xs:sequence>
			<xs:element name="TargetIdentifier" minOccurs="1"
				type="target:QueryResourceTargetIdentifierType" />
			<xs:element name="TemplateType" minOccurs="1"
				type="target:ResourceLevelType" />
			<xs:element name="TemplateCode" minOccurs="1"
				type="base:StringMaxLength5Type" />
			<xs:element name="EffectiveDate" minOccurs="0"
				type="xs:date" />
			<xs:element name="ResourceAttributes" type="target:ResourceAttributeResponseType"
				minOccurs="1" maxOccurs="unbounded" />

		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="DataFilterType">

		<xs:all>
			<xs:element name="ResourceTemplateType" type="target:ResourceLevelType"
				minOccurs="0" />
			<xs:element name="ResourceTemplateCode" type="base:StringMaxLength6Type"
				minOccurs="0" />
		</xs:all>
	</xs:complexType>

	<xs:complexType name="TargetIdentifierType">
		<xs:choice>
			<xs:element name="AccountIdentifier" minOccurs="0" maxOccurs="1"
				type="base:AccountNumberType" />
			<xs:element name="SubscriptionIdentifier"
				minOccurs="0" maxOccurs="1" type="base:SubscriptionNumberType" />
			<xs:element name="AgreementIdentifier" minOccurs="0" maxOccurs="1"
				type="agreement:AgreementNumberIntType" />
			<xs:element name="SubscriptionService" minOccurs="0" maxOccurs="1"
				type="target:SubscriptionServiceIdentifierType" />
			<xs:element name="BillableAsset" type="target:BillableAssetIdentifierType"
				minOccurs="0" maxOccurs="1" />
			<xs:element name="BillableAssetLine" type="target:SetResourceAttributesBillableAssetLineIdentifierType"
				minOccurs="0" maxOccurs="1" />
			<xs:element name="AccountService" type="target:AccountServiceIdentifierType"
				minOccurs="0" maxOccurs="1" />
		</xs:choice>
	</xs:complexType>
	
	<xs:complexType name="QueryResourceTargetIdentifierType">
		<xs:choice>
			<xs:element name="AccountIdentifier" minOccurs="0" maxOccurs="1"
				type="base:AccountNumberType" />
			<xs:element name="SubscriptionIdentifier"
				minOccurs="0" maxOccurs="1" type="base:SubscriptionNumberType" />
			<xs:element name="AgreementIdentifier" minOccurs="0" maxOccurs="1"
				type="agreement:AgreementNumberIntType" />
		</xs:choice>
	</xs:complexType>

	<xs:complexType name="SubscriptionServiceIdentifierType">
		<xs:all>
			<xs:element name="SubscriptionIdentifier" type="base:SubscriptionNumberType"
				minOccurs="1" />

			<xs:element name="ServiceCode" type="subscription:ServiceCodeType"
				minOccurs="1" />
		</xs:all>
	</xs:complexType>

	<xs:complexType name="BillableAssetIdentifierType">
		<xs:all>
			<xs:element name="AccountIdentifier" type="base:AccountNumberType"
				minOccurs="1" />

			<xs:element name="BillableAssetCode" type="target:BillableAssetCode"
				minOccurs="1" />
		</xs:all>
	</xs:complexType>

	<xs:complexType name="SetResourceAttributesBillableAssetLineIdentifierType">
		<xs:all>
			<xs:element name="AccountIdentifier" type="base:AccountNumberType"
				minOccurs="1" />

			<xs:element name="BillableAssetCode" type="target:BillableAssetCode"
				minOccurs="1" />

			<xs:element name="BillableAssetLineIdentifier" type="target:BillableAssetLineIdentifierType"
				minOccurs="1" />
		</xs:all>
	</xs:complexType>

	<xs:complexType name="AccountServiceIdentifierType">
		<xs:all>
			<xs:element name="AccountIdentifier" type="base:AccountNumberType"
				minOccurs="1" />

			<xs:element name="ServiceCode" type="subscription:ServiceCodeType"
				minOccurs="1" />
		</xs:all>
	</xs:complexType>

	<xs:complexType name="ResourceTemplateType">
		<xs:sequence>
			<xs:element name="ResourceTemplateCode" type="base:StringMaxLength6Type"
				minOccurs="1" />
			<xs:element name="ResourceAttribute" type="target:ResourceAttributeIDType"
				minOccurs="1" maxOccurs="unbounded" />
		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="ResourceAttributeIDType">
		<xs:all>
			<xs:element name="ResourceAttributeID" type="base:TwoDigitNumberType"
				minOccurs="1" />
			<xs:element name="AttributeValue" type="xs:string"
				minOccurs="1" />
		</xs:all>
	</xs:complexType>
	
	
	<xs:simpleType name="ResourceLevelType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="ACCOUNT" />
			<xs:enumeration value="AGREEMENT" />
			<xs:enumeration value="SUBSCRIPTION" />
			<xs:enumeration value="SUBSCRIPTION_SERVICE" />
			<xs:enumeration value="ACCOUNT_SERVICE" />
			<xs:enumeration value="BILLABLE_ASSET" />
			<xs:enumeration value="BILLABLE_ASSET_LINE" />
			<xs:enumeration value="HARDWARE" />
		</xs:restriction>
	</xs:simpleType>
	
	<xs:complexType name="ResourceAttributeResponseType">
		<xs:all>
			<xs:element name="ResourceAttributeID" type="base:TwoDigitNumberType"
				minOccurs="1" />
			<xs:element name="AttributeDescription" type="xs:string"
				minOccurs="1" />
			<xs:element name="AttributeValue" type="xs:string"
				minOccurs="1" />
		</xs:all>
	</xs:complexType>


</xs:schema>
